define([],function(){
	return [function(require,module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var parseCogComponentFormat=require("../helpers/parseCogComponentFormat");var Resource=require("../resources/Resource");var OnlineResult=function(){function OnlineResult(json){_classCallCheck(this,OnlineResult);this.id=json.component_id;this.name=json.name;this.description=json.description;this.authorID=json.author_id;this.authorName=json.author_name;this.authorPhoto=json.author_photo;this.authorDownloads=json.author_downloads;this.preview=json.preview;this.framework=app.getFrameworkByVersion(json.bootstrap_version);this.votes=json.votes;this.comments=json.comments;this.can_vote=json.can_vote;this.has_voted=json.has_voted;this._downloading=false}_createClass(OnlineResult,[{key:"getName",value:function getName(){return this.name}},{key:"existsLocally",value:function existsLocally(){return app.downloadedPackages.hasID(this.id)||app.userPackages.hasID(this.id)}},{key:"existsInDownloads",value:function existsInDownloads(){return app.downloadedPackages.hasID(this.id)}},{key:"getLocalCopy",value:function getLocalCopy(){return app.downloadedPackages.getByID(this.id)||app.userPackages.getByID(this.id)}},{key:"isDownloading",value:function isDownloading(){return this._downloading}},{key:"download",value:function download(cb){this._downloading=true;var that=this;$.get("/app/library/download-component",{id:this.id}).done(function(data){that._downloading=false;if(!data){return cb(null)}try{var pkg=parseCogComponentFormat(data)}catch(e){that._downloading=false;cb(null,e.message||null);return}var dpkg=pkg.toDownloadedPackage({name:Resource.sanitizeName(that.name),comments:that.comments,votes:that.votes,can_vote:that.can_vote,has_voted:that.has_voted,description:that.description,authorID:that.authorID,authorName:that.authorName,authorPhoto:that.authorPhoto,authorDownloads:that.authorDownloads});cb(dpkg)}).fail(function(){that._downloading=false;cb(null)})}}]);return OnlineResult}();module.exports=OnlineResult},{"../helpers/parseCogComponentFormat":591,"../resources/Resource":1256}]
});