define([],function(){
	return [function(require,module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var escapeHTML=require("escape-html");var NotificationCenter=function(){function NotificationCenter(elem){_classCallCheck(this,NotificationCenter);this.element=elem;this.notifications=[];this.notificationLimit=8;this.domToNotification=new WeakMap;this.element.on("click",".notification",this.clickHandler.bind(this))}_createClass(NotificationCenter,[{key:"clickHandler",value:function clickHandler(e){var notification=this.domToNotification.get(e.currentTarget);if(!notification){return}notification.clickHandler(e)}},{key:"create",value:function create(options){return new Notification(this,options)}},{key:"add",value:function add(notification){if(this.has(notification))return;this.notifications.unshift(notification);if(this.notifications.length>this.notificationLimit){this.notifications.length=this.notificationLimit}}},{key:"clear",value:function clear(){this.notifications=[]}},{key:"remove",value:function remove(notification){var index=this.notifications.indexOf(notification);if(index==-1)return false;this.notifications.splice(index,1)}},{key:"has",value:function has(notification){this.notifications.indexOf(notification)!=-1}},{key:"update",value:function update(){this.element.empty();var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=this.notifications[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var notif=_step.value;var elem=notif.update();this.domToNotification.set(elem[0],notif);this.element.prepend(elem)}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator["return"]){_iterator["return"]()}}finally{if(_didIteratorError){throw _iteratorError}}}var sum=20;for(var i=0;i<this.notifications.length;i++){var notif=this.notifications[i];var rect=notif.element[0].getBoundingClientRect();notif.element[0].style.transform="translateY(-"+sum+"px)";sum+=rect.height+20}return this.element}}]);return NotificationCenter}();var Notification=function(){function Notification(notificationCenter){var options=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];_classCallCheck(this,Notification);options=Object.assign({type:"success",action:this.hide.bind(this),title:"",description:"",button:null,timeout:5e3},options);this.set(options);this.notificationCenter=notificationCenter;this.element=$('\n\t\t\t<div class="notification">\n\t\t\t\t<div class="icon"></div>\n\t\t\t\t<div class="text-content">\n\t\t\t\t\t<div class="title"></div>\n\t\t\t\t\t<div class="description"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="close">x</div>\n\t\t\t</div>\n\t\t');this.descriptionElement=this.element.find(".description");if(options.button){var button=$('<a class="button"></a>');button.text(options.button);this.descriptionElement.after(button)}this.hideTimeout=null}_createClass(Notification,[{key:"set",value:function set(){var options=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];Object.assign(this,options);if(options.timeout===0){clearTimeout(this.hideTimeout)}}},{key:"clickHandler",value:function clickHandler(e){if(e.target.className=="close"){this.hide();return}if(this.action){this.action(this)}}},{key:"hide",value:function hide(){this.notificationCenter.remove(this);this.notificationCenter.update()}},{key:"show",value:function show(){this.notificationCenter.add(this);this.notificationCenter.update();if(this.timeout){this.hideAfter(this.timeout)}}},{key:"hideAfter",value:function hideAfter(time){clearTimeout(this.hideTimeout);this.hideTimeout=setTimeout(function(){this.hide()}.bind(this),time)}},{key:"update",value:function update(){this.element.find(".title").text(this.title);this.descriptionElement.text(this.description);this.element[0].className="notification "+this.type;if(!this.description){this.element[0].className+=" no-description"}return this.element}}]);return Notification}();module.exports=NotificationCenter},{"escape-html":1021}]
});