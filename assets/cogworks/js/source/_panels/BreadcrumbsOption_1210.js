define([],function(){
	return [function(require,module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(_x,_x2,_x3){var _again=true;_function:while(_again){var object=_x,property=_x2,receiver=_x3;_again=false;if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{_x=parent;_x2=property;_x3=receiver;_again=true;desc=parent=undefined;continue _function}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var OptionItem=require("./OptionItem");var isContextClick=require("../helpers/isContextClick");var BreadcrumbsOption=function(_OptionItem){_inherits(BreadcrumbsOption,_OptionItem);function BreadcrumbsOption(options){_classCallCheck(this,BreadcrumbsOption);_get(Object.getPrototypeOf(BreadcrumbsOption.prototype),"constructor",this).call(this,options);this.component=options.component;this.element=$('<div class="breadcrumbs-option">');this.list=[];app.on("resize.breadcrumbs-listener panel-resize.breadcrumbs-listener",this.resize.bind(this))}_createClass(BreadcrumbsOption,[{key:"destructor",value:function destructor(){app.context.previousBreadcrumbList=this.list;app.off(".breadcrumbs-listener")}},{key:"bindEventListeners",value:function bindEventListeners(){this.element.off("mouseup").on("mouseup","a",this.click.bind(this));this.element.off("mouseenter").on("mouseenter","a",this.mouseenter.bind(this));this.element.off("mouseleave").on("mouseleave","a",this.mouseleave.bind(this));this.element.off("wheel").on("wheel",this.mousewheel.bind(this))}},{key:"mouseenter",value:function mouseenter(e){var index=this.element.find("a").index(e.target);app.canvas.highlight(this.list[index])}},{key:"mouseleave",value:function mouseleave(){app.canvas.removeHighlight()}},{key:"mousewheel",value:function mousewheel(e){var scrollLeft=this.element[0].scrollLeft||0;if(e.originalEvent.deltaX>0||e.originalEvent.deltaY>0){scrollLeft+=20}else{scrollLeft-=20}if(scrollLeft<0){scrollLeft=0}this.element[0].scrollLeft=scrollLeft;this.scrollPosition=scrollLeft}},{key:"resize",value:function resize(){this.centerActiveBreadcrumb()}},{key:"click",value:function click(e){var index=this.element.find("a").index(e.target);if(isContextClick(e)){this.list[index].showContextMenu();e.stopPropagation();return}if(this.list[index].isSelected()){return}this.list[index].focus()}},{key:"centerActiveBreadcrumb",value:function centerActiveBreadcrumb(){var active=this.element.find("a.active");if(!active.length){return}if(this.scrollPosition>=0){this.element[0].scrollLeft=this.scrollPosition;return}var breadcrumb=active[0];var breadcrumbCenterOffset=breadcrumb.offsetLeft+breadcrumb.offsetWidth/2;var elementCenterOffset=breadcrumb.parentNode.offsetWidth/2;breadcrumb.parentNode.scrollLeft=breadcrumbCenterOffset-elementCenterOffset}},{key:"update",value:function update(){_get(Object.getPrototypeOf(BreadcrumbsOption.prototype),"update",this).call(this);var component=this.component;this.list=[];while(component){this.list.unshift(component);component=component.parent}var previousList=app.context.previousBreadcrumbList||[];var index=previousList.indexOf(this.component);if(index!=-1){for(var i=index+1;i<previousList.length;i++){if(!previousList[i].exists()){break}this.list.push(previousList[i])}}var html="";var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=this.list[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var item=_step.value;html+="<a"+(item==this.component?' class="active"':"")+">"+item.getFullName()+"</a>"}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator["return"]){_iterator["return"]()}}finally{if(_didIteratorError){throw _iteratorError}}}this.element.html(html);this.bindEventListeners();return this.element}},{key:"afterUpdate",value:function afterUpdate(){this.centerActiveBreadcrumb()}}]);return BreadcrumbsOption}(OptionItem);module.exports=BreadcrumbsOption},{"../helpers/isContextClick":584,"./OptionItem":1229}]
});