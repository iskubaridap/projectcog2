define([],function(){
	return [function(require,module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(_x,_x2,_x3){var _again=true;_function:while(_again){var object=_x,property=_x2,receiver=_x3;_again=false;if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{_x=parent;_x2=property;_x3=receiver;_again=true;desc=parent=undefined;continue _function}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var SettingsPane=require("./SettingsPane");var smartEditableElement=require("../helpers/smartEditableElement");var ThemeManagerPane=function(_SettingsPane){_inherits(ThemeManagerPane,_SettingsPane);function ThemeManagerPane(elem){_classCallCheck(this,ThemeManagerPane);_get(Object.getPrototypeOf(ThemeManagerPane.prototype),"constructor",this).call(this,elem);this.listing=elem.find(".listing");this.noThemesMessage=elem.find(".no-themes");this.importButton=elem.find(".button.import");this.importButton.on("click",this.importClick.bind(this));this.buttons.push(this.importButton);this.smartEditable=smartEditableElement({element:elem,onCommit:this.themeRename.bind(this),onDelete:this.themeDelete.bind(this),doubleClickEditing:true});app.on("bootstrap-theme-added bootstrap-theme-removed bootstrap-theme-renamed",this.update.bind(this))}_createClass(ThemeManagerPane,[{key:"themeRename",value:function themeRename(elem,newName){if(newName.trim().length<1){return false}var item=elem.data("item");app.framework.renameBootstrapThemeAction(item,newName.trim())}},{key:"themeDelete",value:function themeDelete(elem){var item=elem.data("item");var canThemeBeDeleted=function canThemeBeDeleted(theme){return app.framework.isThemeUsedInOpenDesigns(theme.id)};if(this.options.canThemeBeDeleted){canThemeBeDeleted=this.options.canThemeBeDeleted}if(canThemeBeDeleted(item)){app.alertDialog.open({title:"Can't Delete",message:"This theme is used by an open design and can't be deleted."});return}app.framework.removeBootstrapThemeAction(item)}},{key:"importClick",value:function importClick(e){app.framework.importBootstrapThemeAction()}},{key:"afterClose",value:function afterClose(){this.listing.empty()}},{key:"update",value:function update(){_get(Object.getPrototypeOf(ThemeManagerPane.prototype),"update",this).call(this);this.listing.empty();this.noThemesMessage.hide();if(!app.framework.userThemes.length){this.noThemesMessage.show();return}this.listing.html(app.framework.userThemes.map(buildThemeMarkup))}}]);return ThemeManagerPane}(SettingsPane);function buildThemeMarkup(item){var tmp=$('<div class="theme-item smart-editable white-item">\n\t\t<span class="name"></span>\n\t\t<input type="text" value="" />\n\t\t<span class="delete">&times;</span>\n\t\t<span class="edit"><i class="material-icons">mode_edit</i></span>\n\t\t<span class="save"><i class="material-icons">check</i></span>\n\t</div>');tmp.find(".name").text(item.name);tmp.data("item",item);return tmp}module.exports=ThemeManagerPane},{"../helpers/smartEditableElement":614,"./SettingsPane":521}]
});