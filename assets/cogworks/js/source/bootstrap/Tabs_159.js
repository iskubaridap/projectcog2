define([],function(){
	return [function(require,module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(_x2,_x3,_x4){var _again=true;_function:while(_again){var object=_x2,property=_x3,receiver=_x4;_again=false;if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{_x2=parent;_x3=property;_x4=receiver;_again=true;desc=parent=undefined;continue _function}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ComponentWithChildren=require("../base/ComponentWithChildren");var TabItems=require("./TabItems");var Tab=require("./Tab");var TabContent=require("./TabContent");var TabPane=require("./TabPane");var ComponentControlBar=require("../../bars/ComponentControlBar");var generateUniqueID=require("../../helpers/generateUniqueID");var Tabs=function(_ComponentWithChildren){_inherits(Tabs,_ComponentWithChildren);function Tabs(){_classCallCheck(this,Tabs);_get(Object.getPrototypeOf(Tabs.prototype),"constructor",this).call(this);this.element=$("<div>");this.defineProperties([{id:"activeTab",label:"Active Tab Index",type:"textbox",value:0},{id:"fade",label:"Fade effect",type:"checkbox",value:false}])}_createClass(Tabs,[{key:"initialize",value:function initialize(){var tabIds=[];for(var i=0;i<3;i++){var id=generateUniqueID(function(i){return app.canvas.isThereDOMNodeWithID("tab-"+i)||tabIds.indexOf(i)!==-1});if(id){tabIds.push(id)}}var tabItems=new this.tabItemsConstructor;tabItems.initialize(tabIds);tabItems.fixate();this.insertLast(tabItems);var tabContent=new this.tabContentConstructor;tabContent.initialize(tabIds);tabContent.fixate();this.insertLast(tabContent)}},{key:"canTakeChild",value:function canTakeChild(component){return false}},{key:"getTabIndexForComponent",value:function getTabIndexForComponent(comp){var tab;if(comp.isChildOf(this.children[0])){tab=comp.closest(Tab)}else if(comp.isChildOf(this.children[1])){tab=comp.closest(TabPane)}else{return null}return tab.parent.childIndex(tab)}},{key:"isIndexActive",value:function isIndexActive(index){return this.properties.activeTab==index}},{key:"isTabIDActive",value:function isTabIDActive(id){var activeTab=this.children[0].children[this.properties.activeTab];if(!activeTab)return false;return activeTab.children[0].properties.url=="#"+id}},{key:"isFadeActivated",value:function isFadeActivated(){return this.properties.fade}},{key:"canShowTab",value:function canShowTab(comp){var index=this.getTabIndexForComponent(comp);return index!==null&&this.properties.activeTab!=index}},{key:"showTab",value:function showTab(comp){if(!this.canShowTab(comp))return;var newIndex=this.getTabIndexForComponent(comp);var oldIndex=this.properties.activeTab;this.properties.activeTab=newIndex;this.update();var that=this;app.context.history.add({name:"Show Tab",undo:function undo(){that.properties.activeTab=oldIndex;that.update()},redo:function redo(){that.properties.activeTab=newIndex;that.update()}})}},{key:"canAddTabLeft",value:function canAddTabLeft(comp){return!!comp.closest(TabPane)||!!comp.closest(Tab)}},{key:"canAddTabRight",value:function canAddTabRight(comp){return!!comp.closest(TabPane)||!!comp.closest(Tab)}},{key:"addTabLeft",value:function addTabLeft(comp){if(!this.canAddTabLeft(comp))return;var index=this.getTabIndexForComponent(comp);this.addTabAction(index)}},{key:"addTabRight",value:function addTabRight(comp){if(!this.canAddTabRight(comp))return;var index=this.getTabIndexForComponent(comp)+1;this.addTabAction(index)}},{key:"addTabEnd",value:function addTabEnd(){this.addTabAction()}},{key:"addTabAction",value:function addTabAction(){var index=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var id=app.canvas.generateUniqueID("tab");var op1=this.children[0].addTabOp(id,index);var op2=this.children[1].addTabOp(id,index);var tabs=this;var oldActiveTab=this.properties.activeTab;var newActiveTab=oldActiveTab;if(index!=null&&index<=this.properties.activeTab){newActiveTab=parseInt(this.properties.activeTab,10)+1}op1["do"]();op2["do"]();tabs.properties.activeTab=newActiveTab;tabs.update();app.context.history.add({name:"Add Tab",undo:function undo(){op1.undo();op2.undo();tabs.properties.activeTab=oldActiveTab;tabs.update()},redo:function redo(){op1["do"]();op2["do"]();tabs.properties.activeTab=newActiveTab;tabs.update()}})}},{key:"createToolbar",value:function createToolbar(comp){if(comp!=this&&comp.parent!=this&&!comp.isChildOf(this.children[0])&&comp.parent!=this.children[1]&&comp.parent.parent!=this.children[1])return;var that=this;var toolbar=new ComponentControlBar(this);toolbar.initialize({items:[{type:"label",text:"Tab"},{type:"button",text:"Show",isActive:function isActive(){return that.canShowTab(app.getFocusedComponent())},onClick:function onClick(){return that.showTab(app.getFocusedComponent())}},{type:"spacer"},{type:"label",text:"Add Tab"},{type:"button",text:"Left",isActive:function isActive(){return that.canAddTabLeft(app.getFocusedComponent())},onClick:function onClick(){that.addTabLeft(app.getFocusedComponent())}},{type:"button",text:"Right",isActive:function isActive(){return that.canAddTabRight(app.getFocusedComponent())},onClick:function onClick(){that.addTabRight(app.getFocusedComponent())}},{type:"button",text:"End",onClick:function onClick(){that.addTabEnd()}}]});return toolbar}},{key:"updateTabContent",value:function updateTabContent(){this.children[1].update()}},{key:"tabItemsConstructor",get:function get(){}},{key:"tabContentConstructor",get:function get(){}}]);return Tabs}(ComponentWithChildren);Tabs.description="This is Bootstrap's Tabs component. Each tab has an associated Tab Pane which is displayed when the tab is active.";module.exports=Tabs},{"../../bars/ComponentControlBar":4,"../../helpers/generateUniqueID":568,"../base/ComponentWithChildren":40,"./Tab":152,"./TabContent":153,"./TabItems":154,"./TabPane":155}]
});