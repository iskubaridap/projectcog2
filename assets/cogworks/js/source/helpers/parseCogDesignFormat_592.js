define([],function(){
	return [function(require,module,exports){"use strict";var packageJSON=require("../package.json");var maliciousDetector=require("./maliciousDetector");var DesignContext=require("../contexts/DesignContext");var update=require("../converters/design/");module.exports=function parseCogDesignFormat(json){var path=arguments.length<=1||arguments[1]===undefined?null:arguments[1];if(Number(json.version)>Number(packageJSON._version_design_format)){throw new Error("version")}var ctx=new DesignContext;json=update(json);if(!maliciousDetector.validateDesign(json.design)){throw new Error("malicious")}ctx.unserialize(json.design);if(path){ctx.markAsSaved(path)}return ctx}},{"../contexts/DesignContext":372,"../converters/design/":413,"../package.json":1203,"./maliciousDetector":588}]
});