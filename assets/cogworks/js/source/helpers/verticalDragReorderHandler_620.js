define([],function(){
	return [function(require,module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}module.exports=function verticalDragReorderHandler(options){return new ReorderHandler(options)};var ReorderHandler=function(){function ReorderHandler(options){_classCallCheck(this,ReorderHandler);this.options=options;this.isDragging=false}_createClass(ReorderHandler,[{key:"mousedown",value:function mousedown(e){this.isDragging=true;this.draggedNode=e.target.closest(this.options.itemSelector);this.draggedNodeIndex=Array.from(this.draggedNode.parentNode.children).indexOf(this.draggedNode);this.originalIndex=this.draggedNodeIndex;this.draggedNode.classList.add("dragged");this.offsetTop=e.pageY-this.draggedNode.getBoundingClientRect().top;this.draggedNode.parentNode.classList.add("drag-enabled");this.draggedNodeTop=null}},{key:"mousemove",value:function mousemove(e){if(!this.isDragging)return;if(!this.draggedNodeTop){this.draggedNodeTop=this.draggedNode.getBoundingClientRect().top}this.draggedNode.style["transform"]="translateY("+(e.pageY-(this.draggedNodeTop+this.offsetTop))+"px)";var elem=document.elementFromPoint(e.pageX,e.pageY);var over=elem.closest(this.options.itemSelector);if(!over)return;var moved=false;var overIndex=Array.from(over.parentNode.children).indexOf(over);var box=over.getBoundingClientRect();if(box.top+box.height/2>e.pageY){if(this.draggedNodeIndex==overIndex-1)return;over.insertAdjacentElement("beforeBegin",this.draggedNode);this.draggedNodeIndex=overIndex;moved=true}else if(box.bottom-box.height/2<e.pageY){if(this.draggedNodeIndex==overIndex+1)return;over.insertAdjacentElement("afterEnd",this.draggedNode);this.draggedNodeIndex=overIndex;moved=true}if(moved){this.draggedNodeTop=box.top;this.draggedNode.style["transform"]="translateY("+(e.pageY-(this.draggedNodeTop+this.offsetTop))+"px)"}}},{key:"mouseup",value:function mouseup(){if(!this.isDragging)return;var node=this.draggedNode;var currentIndex=this.draggedNodeIndex;this.isDragging=false;this.draggedNodeTop=null;this.draggedNodeIndex=null;this.draggedNode.classList.add("animated");this.draggedNode.parentNode.classList.remove("drag-enabled");this.draggedNode.style["transform"]="";this.draggedNode=null;var that=this;setTimeout(function(){node.classList.remove("animated");node.classList.remove("dragged");if(that.originalIndex!=currentIndex){that.options.reorder(node)}},150)}},{key:"mouseleave",value:function mouseleave(){this.mouseup()}}]);return ReorderHandler}()},{}]
});