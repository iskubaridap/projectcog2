define([],function(){
	return [function(require,module,exports){"use strict";var InlineCharacter=require("../components/base/InlineCharacter");module.exports=function htmlToInline(html){var blacklist=arguments.length<=1||arguments[1]===undefined?[]:arguments[1];var domToComponent=arguments.length<=2||arguments[2]===undefined?null:arguments[2];var result=[];if(typeof html=="string"){var parser=new DOMParser;var doc=parser.parseFromString(html,"text/html");parse(doc.body)}else{parse(html)}for(var j=0;j<blacklist.length;j++){for(var i=0;i<result.length;i++){if(result[i]instanceof InlineCharacter){result[i][blacklist[j]]=false}}}return result;function parse(node){var link=arguments.length<=1||arguments[1]===undefined?false:arguments[1];var bold=arguments.length<=2||arguments[2]===undefined?false:arguments[2];var italic=arguments.length<=3||arguments[3]===undefined?false:arguments[3];var strike=arguments.length<=4||arguments[4]===undefined?false:arguments[4];var underline=arguments.length<=5||arguments[5]===undefined?false:arguments[5];for(var i=0;i<node.childNodes.length;i++){var child=node.childNodes[i];if(domToComponent&&domToComponent(child)){result.push(domToComponent(child));continue}var tmpStrike=strike,tmpUnderline=underline,tmpBold=bold,tmpItalic=italic,tmpLink=link;if(child.nodeName=="A"&&child.hasAttribute("href")&&child.getAttribute("href").trim().length>0){tmpLink=child.getAttribute("href").trim()}if(child.nodeName=="B"||child.nodeName=="STRONG"){tmpBold=true}if(child.nodeName=="I"||child.nodeName=="EM"){tmpItalic=true}if(child.nodeName=="DEL"||child.nodeName=="STRIKE"){tmpStrike=true}if(child.nodeName=="U"){tmpUnderline=true}if("hasAttribute"in child&&child.hasAttribute("style")){if(child.style.fontWeight=="bold"||child.style.fontWeight=="600"||child.style.fontWeight=="700"||child.style.fontWeight=="800"){tmpBold=true}else if(child.style.fontWeight=="normal"||child.style.fontWeight=="400"){tmpBold=false}if(child.style.fontStyle=="italic"){tmpItalic=true}else if(child.style.fontStyle=="normal"){tmpItalic=false}if(child.style.textDecorationLine.match("line-through")){tmpStrike=true}if(child.style.textDecorationLine.match("underline")){tmpUnderline=true}if(child.style.textDecorationLine.match("none")){tmpStrike=false;tmpUnderline=false}}if(child.nodeName=="#text"){var chars=child.textContent.split(""),tmp=null;for(var j=0;j<chars.length;j++){tmp=new InlineCharacter(chars[j]);tmp.bold=tmpBold;tmp.italic=tmpItalic;tmp.strike=tmpStrike;tmp.underline=tmpUnderline;tmp.link=tmpLink;result.push(tmp)}}else if(child.nodeType==Node.ELEMENT_NODE){if(child.nodeName=="BR"){result.push(new InlineCharacter("\n"))}else{parse(child,tmpLink,tmpBold,tmpItalic,tmpStrike,tmpUnderline)}}}}}},{"../components/base/InlineCharacter":57}]
});