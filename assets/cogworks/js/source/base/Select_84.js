define([],function(){
	return [function(require,module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(_x,_x2,_x3){var _again=true;_function:while(_again){var object=_x,property=_x2,receiver=_x3;_again=false;if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{_x=parent;_x2=property;_x3=receiver;_again=true;desc=parent=undefined;continue _function}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var InputBase=require("./InputBase");var ComponentListOption=require("../../panels/ComponentListOption");var TextBoxOption=require("../../panels/TextBoxOption");var SelectOption=require("../../panels/SelectOption");var CheckBoxOption=require("../../panels/CheckBoxOption");var clone=require("clone");var Select=function(_InputBase){_inherits(Select,_InputBase);function Select(){_classCallCheck(this,Select);_get(Object.getPrototypeOf(Select.prototype),"constructor",this).call(this);this.element=$("<select>");this.addCapabilities(["autofocus","multiple"]);this.items=[];this.defineGroups({id:"select-items",label:"Items",weight:9})}_createClass(Select,[{key:"initialize",value:function initialize(){this.items=[{label:"This is a group",type:"OptionGroup"},{label:"This is item 1",value:"12",type:"OptionItem",selected:true},{label:"This is item 2",value:"13",type:"OptionItem"},{label:"This is item 3",value:"14",type:"OptionItem"}]}},{key:"injectOptions",value:function injectOptions(){_get(Object.getPrototypeOf(Select.prototype),"injectOptions",this).call(this);var select=this;var selectItemsGroup=app.framework.getOptionsGroupByID("select-items");var listOption=new ComponentListOption({component:this,items:[this,"items"],itemRepresentation:function itemRepresentation(item){var text=item.label.trim();if(!text.length){text="<"+item.type+">"}return text},actions:{delete:true,edit:true},addForm:function addForm(){var type=new SelectOption({label:"Type",value:"OptionItem",options:[{label:"Option",value:"OptionItem"},{label:"Option Group",value:"OptionGroup"}],onChange:function onChange(type){selected.hide();value.hide();if(type=="OptionItem"){selected.show();value.show()}}});var label=new TextBoxOption({label:"Label",value:""});var value=new TextBoxOption({label:"Value",value:""});var selected=new CheckBoxOption({label:"Selected",value:false});return[type,label,value,selected]},editForm:function editForm(item){var type=new SelectOption({label:"Type",value:item.type,options:[{label:"Option",value:"OptionItem"},{label:"Option Group",value:"OptionGroup"}],onChange:function onChange(type){selected.hide();value.hide();if(type=="OptionItem"){selected.show();value.show()}}});var label=new TextBoxOption({label:"Label",value:item.label||""});var value=new TextBoxOption({label:"Value",value:item.value||"",visible:item.type=="OptionItem"});var selected=new CheckBoxOption({label:"Selected",value:item.selected||false,visible:item.type=="OptionItem"});return[type,label,value,selected]},onFormSave:function onFormSave(fields){var type=fields[0].val();var item={type:type,label:fields[1].val()};if(type=="OptionItem"){item.value=fields[2].val();item.selected=fields[3].val()}return item}});selectItemsGroup.add(listOption)}},{key:"update",value:function update(){this.element.empty();var html=document.createDocumentFragment();var item,group,option;for(var i=0;i<this.items.length;i++){item=this.items[i];if(item.type=="OptionGroup"){group=renderGroup(item);html.appendChild(group);continue}option=renderOption(item);if(group){group.appendChild(option)}else{html.appendChild(option)}}this.element.html(html);return _get(Object.getPrototypeOf(Select.prototype),"update",this).call(this)}},{key:"serialize",value:function serialize(){var obj=_get(Object.getPrototypeOf(Select.prototype),"serialize",this).call(this);obj.items=this.items;return obj}},{key:"unserialize",value:function unserialize(obj){_get(Object.getPrototypeOf(Select.prototype),"unserialize",this).call(this,obj);if(Array.isArray(obj.items)){this.items=clone(obj.items)}}}]);return Select}(InputBase);function renderOption(o){var option=document.createElement("option");option.setAttribute("value",o.value);option.textContent=o.label;if(o.selected){option.setAttribute("selected","")}return option}function renderGroup(g){var group=document.createElement("optgroup");group.setAttribute("label",g.label);if(g.disabled){group.setAttribute("disabled","")}return group}Select.description="This is the <code>&lt;select&gt;</code> HTML element. It is a standard control, visualized as a dropdown list in browsers. You can control the items and groups from the Options panel.";module.exports=Select},{"../../panels/CheckBoxOption":1213,"../../panels/ComponentListOption":1215,"../../panels/SelectOption":1238,"../../panels/TextBoxOption":1243,"./InputBase":58,"clone":739}]
});