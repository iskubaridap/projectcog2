define([],function(){
	return [function(require,module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var cssProperties=require("../config/css-properties.js");var color=require("onecolor");var colorNames=require("color-name");var equal=require("deep-equal");var colorRegex=/#[0-9a-f]{6}|#[0-9a-f]{3}|(?:rgba?|hsla?|hsv|cmyk)\([^\)]+\)/gi;var colorNameRegex=/\b\w+\b/g;var prefixRegex=/^(?:-moz-|-webkit-|-ms-)/g;var globalID=1;var CSSRule=function(){function CSSRule(){var property=arguments.length<=0||arguments[0]===undefined?"":arguments[0];var value=arguments.length<=1||arguments[1]===undefined?"":arguments[1];var enabled=arguments.length<=2||arguments[2]===undefined?true:arguments[2];var system=arguments.length<=3||arguments[3]===undefined?false:arguments[3];_classCallCheck(this,CSSRule);this.property=property;this.value=value;this.enabled=enabled;this.system=system;this._validCache={property:"",value:"",status:false};this.runtimeID=globalID++}_createClass(CSSRule,[{key:"toString",value:function toString(prop){if(!this.property||!this.value)return"";var val=this.value;if(!this.enabled){return"  /*"+this.property+": "+val+";*/\n"}if(prop&&prop.skipAnimationProperties&&this.isAnimationRelated()){return"  /*"+this.property+": "+val+";*/\n"}if(prop&&prop.skipUIModifyingProperties&&this.isUIRelated()){return"  /*"+this.property+": "+val+";*/\n"}return"  "+this.property+": "+val+";\n"}},{key:"isEmpty",value:function isEmpty(){return!this.property||!this.value}},{key:"isValid",value:function isValid(){if(this.property[0]=="-"&&this.property[1]=="-"){return true}if(this._validCache.property==this.property&&this._validCache.value==this.value){return this._validCache.status}if(!this.property||!this.value){return false}var prop=this.property.replace(prefixRegex,"");if(!CSSRule.isPropertyValid(prop)){return false}var div=document.createElement("div");div.style[prop]=this.value.replace(/!important/gi,"").replace(/\s+/g," ");this._validCache.status=prop in div.style&&div.style[prop]!="";this._validCache.property=this.property;this._validCache.value=this.value;return this._validCache.status}},{key:"isAnimationControl",value:function isAnimationControl(){return this.property.toLowerCase().replace(prefixRegex,"")=="animation"}},{key:"isAnimationRelated",value:function isAnimationRelated(){return cssProperties.animationProperties.has(this.property.toLowerCase().replace(prefixRegex,""))}},{key:"isColorRelated",value:function isColorRelated(){return cssProperties.colorProperties.has(this.property.toLowerCase().replace(prefixRegex,""))}},{key:"isUIRelated",value:function isUIRelated(){var prop=this.property.toLowerCase();return prop=="pointer-events"||prop=="cursor"}},{key:"isImageRelated",value:function isImageRelated(){return cssProperties.imageProperties.has(this.property.toLowerCase().replace(prefixRegex,""))}},{key:"isRelatedTo",value:function isRelatedTo(prop){var prop=prop.toLowerCase();var current=this.property.toLowerCase();if(prop==current){return true}var lts=cssProperties.longToShorthand;if(current in lts){if(Array.isArray(lts[current])&&lts[current].includes(prop)){return true}if(lts[current]==prop){return true}if(prop in lts){return equal(lts[current],lts[prop])}}if(prop in lts){if(Array.isArray(lts[prop])&&lts[prop].includes(current)){return true}if(lts[prop]==current){return true}}return false}},{key:"isLonghandOf",value:function isLonghandOf(prop){var prop=prop.toLowerCase();var currentProperty=this.property.toLowerCase();if(!(currentProperty in cssProperties.longToShorthand)){return false}var shorthand=cssProperties.longToShorthand[currentProperty];if(Array.isArray(shorthand)){return shorthand.indexOf(prop)>-1}return prop==shorthand}},{key:"extractColors",value:function extractColors(){var matches=[];this.value.replace(colorRegex,function(match,index){var col=color(match);if(col===false){return}matches.push({index:index,match:match,color:col.cssa()})});this.value.replace(colorNameRegex,function(match,index){if(colorNames.hasOwnProperty(match.toLowerCase())){matches.push({index:index,match:match,color:color(match).cssa()})}});matches.sort(function(a,b){return a.index-b.index});return matches}},{key:"findUsedImagePaths",value:function findUsedImagePaths(){var images=[];var match;var imageRegex=/url\(['"]?([^)'";}]+)['"]?\)/g;while(match=imageRegex.exec(this.value)){var image=match[1];if(image&&!images.includes(image)){images.push(image)}}return images}},{key:"isInheritable",value:function isInheritable(){return cssProperties.inheritableProperties.has(this.property.toLowerCase())}},{key:"clone",value:function clone(){return new CSSRule(this.property,this.value,this.enabled,this.system)}},{key:"serialize",value:function serialize(){return{property:this.property,value:this.value,enabled:this.enabled,system:this.system}}},{key:"unserialize",value:function unserialize(obj){this.property=obj.property;this.value=obj.value;this.enabled=obj.enabled;this.system=obj.system}}]);return CSSRule}();CSSRule.isPropertyForbidden=function(property){return cssProperties.forbiddenProperties.indexOf(property.toLowerCase())!==-1};CSSRule.isPropertyValid=function(property){return cssProperties.validProperties.indexOf(property.toLowerCase())!==-1};module.exports=CSSRule},{"../config/css-properties.js":367,"color-name":758,"deep-equal":971,"onecolor":1076}]
});