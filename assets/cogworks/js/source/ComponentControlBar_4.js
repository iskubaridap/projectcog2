define([],function(){
	return [function(require,module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(_x,_x2,_x3){var _again=true;_function:while(_again){var object=_x,property=_x2,receiver=_x3;_again=false;if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{_x=parent;_x2=property;_x3=receiver;_again=true;desc=parent=undefined;continue _function}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var SubBar=require("./SubBar");var getSmartProp=require("../helpers/getSmartProp");var ComponentControlBar=function(_SubBar){_inherits(ComponentControlBar,_SubBar);function ComponentControlBar(component){_classCallCheck(this,ComponentControlBar);_get(Object.getPrototypeOf(ComponentControlBar.prototype),"constructor",this).call(this,component);this.weight=10;this.element=$("<div>");this.domToDefinition=new WeakMap;this.componentUpdatedListener=this.componentUpdated.bind(this)}_createClass(ComponentControlBar,[{key:"initialize",value:function initialize(options){this.element.attr("id",options.id||"");var elem,returnTrue=function returnTrue(){return true};var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=options.items[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var def=_step.value;if(!def.isActive){def.isActive=returnTrue}switch(def.type){case"button":elem=$('<span class="button darkgray">');break;case"spacer":elem=$('<span class="spacer">');break;case"label":elem=$('<span class="label">').text(getSmartProp(def.text,""));break}this.domToDefinition.set(elem[0],def);this.element.append(elem);this.element.append(document.createTextNode(" "))}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator["return"]){_iterator["return"]()}}finally{if(_didIteratorError){throw _iteratorError}}}}},{key:"bindEventListeners",value:function bindEventListeners(){this.element.on("click",".button",this.buttonClick.bind(this));app.on("component-updated",this.componentUpdatedListener)}},{key:"unbindEventListeners",value:function unbindEventListeners(){this.element.off();app.off("component-updated",this.componentUpdatedListener)}},{key:"componentUpdated",value:function componentUpdated(component){if(component==this.component||component.isChildOf(this.component)){this.scheduleUpdate()}}},{key:"buttonClick",value:function buttonClick(e){var def=this.domToDefinition.get(e.currentTarget);if(!def)return;def.onClick(e.currentTarget)}},{key:"update",value:function update(){var _this=this;this.element.find(".button").each(function(index,elem){var def=_this.domToDefinition.get(elem);if(def.isActive()){elem.classList.remove("disabled")}else{elem.classList.add("disabled")}if(def.text){elem.textContent=getSmartProp(def.text,"")}else if(def.content){elem.innerHTML=getSmartProp(def.content,"")}if(def.classes){var cls=def.classes;if(!Array.isArray(def.classes)){cls=[def.classes]}elem.classList.add.apply(elem.classList,cls)}if(def.title){elem.title=def.title}});return _get(Object.getPrototypeOf(ComponentControlBar.prototype),"update",this).call(this)}}]);return ComponentControlBar}(SubBar);module.exports=ComponentControlBar},{"../helpers/getSmartProp":575,"./SubBar":6}]
});