define([],function(){
	return [function(require,module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(_x,_x2,_x3){var _again=true;_function:while(_again){var object=_x,property=_x2,receiver=_x3;_again=false;if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{_x=parent;_x2=property;_x3=receiver;_again=true;desc=parent=undefined;continue _function}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ComponentWithChildren=require("../base/ComponentWithChildren");var Button=require("./Button");var Anchor=require("./Anchor");var DropdownMenu=require("./DropdownMenu");var DropdownDivider=require("./DropdownDivider");var DropdownHeader=require("./DropdownHeader");var ButtonGroup=require("./ButtonGroup");var Nav=require("./Nav");var NavBar=require("./NavBar");var TabItems=require("./TabItems");var ComponentControlBar=require("../../bars/ComponentControlBar");var Dropdown=function(_ComponentWithChildren){_inherits(Dropdown,_ComponentWithChildren);function Dropdown(){_classCallCheck(this,Dropdown);_get(Object.getPrototypeOf(Dropdown.prototype),"constructor",this).call(this);this.defineProperties([{id:"type",label:"Type",type:"select",value:"dropdown",options:this.possibleTypes},{id:"expanded",label:"Expanded",type:"checkbox",value:false},{id:"alignment",label:"Alignment",type:"select",value:"",options:[{value:"",label:"Default"},{value:"left",label:"Left"},{value:"right",label:"Right"}]}]);this.element=$("<div>");this._button=new this.buttonConstructor;this._button.initialize("Dropdown ");this._button.fixate();this._link=new this.anchorConstructor;this._link.initialize();this._link.fixate()}_createClass(Dropdown,[{key:"getToolbarItems",value:function getToolbarItems(){var that=this;return[{type:"label",text:"Dropdown"},{type:"button",text:function text(){return that.isExpanded()?"Close":"Open"},onClick:this.expandContract.bind(this),classes:"expand-contract"},{type:"spacer"},{type:"label",text:"Add To Menu"},{type:"button",text:"Item",onClick:this.addMenuItem.bind(this)},{type:"button",text:"Header",onClick:this.addMenuHeader.bind(this)},{type:"button",text:"Divider",onClick:this.addMenuDivider.bind(this)},{type:"spacer"},{type:"label",text:"Menu Item"},{type:"button",text:"Edit",isActive:function isActive(){return that.canEditItem(that.page().getFocusedComponent())},onClick:function onClick(){that.editItem(that.page().getFocusedComponent())}},{type:"button",text:"Delete",isActive:function isActive(){return that.canDeleteItem(that.page().getFocusedComponent())},onClick:function onClick(){that.deleteItem(that.page().getFocusedComponent())}}]}},{key:"getMenu",value:function getMenu(){var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=this.children[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var child=_step.value;if(child instanceof DropdownMenu){return child}}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator["return"]){_iterator["return"]()}}finally{if(_didIteratorError){throw _iteratorError}}}return null}},{key:"createToolbar",value:function createToolbar(){var that=this;var toolbar=new ComponentControlBar(this);toolbar.initialize({id:"dropdown-control-bar",items:this.getToolbarItems()});return toolbar}},{key:"isExpanded",value:function isExpanded(){return this.properties.expanded}},{key:"expandContract",value:function expandContract(){var oldState=this.properties.expanded;var newState=!oldState;this.properties.expanded=newState;this.update();var that=this;app.context.history.add({name:"Toggle Dropdown Expanded State",undo:function undo(){that.properties.expanded=oldState;that.update()},redo:function redo(){that.properties.expanded=newState;that.update()}})}},{key:"addMenuItem",value:function addMenuItem(){this.addItem("Add Dropdown Item",this.getMenu().addMenuItem())}},{key:"addMenuHeader",value:function addMenuHeader(){this.addItem("Add Dropdown Header",this.getMenu().addMenuHeader())}},{key:"addMenuDivider",value:function addMenuDivider(){this.addItem("Add Dropdown Divider",this.getMenu().addMenuDivider())}},{key:"addTextMenuItem",value:function addTextMenuItem(){this.addItem("Add Dropdown Text Item",this.getMenu().addTextMenuItem())}},{key:"addItem",value:function addItem(historyTitle,op){var that=this;op["do"]();that.update();app.context.history.add({name:historyTitle,undo:function undo(){op.undo();that.update()},redo:function redo(){op["do"]();that.update()}})}},{key:"canEditItem",value:function canEditItem(comp){if(!comp||!comp.isChildOf(this))return false;return comp.closest(this.dropdownMenuItemConstructor)||comp.closest(DropdownHeader)}},{key:"canDeleteItem",value:function canDeleteItem(comp){if(!comp)return false;return comp instanceof this.dropdownMenuItemConstructor||comp instanceof DropdownDivider||comp instanceof DropdownHeader}},{key:"deleteItem",value:function deleteItem(comp){if(this.canDeleteItem(comp)){comp.deleteAction()}}},{key:"editItem",value:function editItem(comp){}},{key:"canTakeChild",value:function canTakeChild(component){return false}},{key:"update",value:function update(){var tmp;var showLink=false;this.cssClasses.system.main=this.properties.type;delete this.attributes.role;var InputGroupAddon=require("./InputGroupAddon");if(this.parent instanceof ButtonGroup||this.parent instanceof InputGroupAddon){tmp=$("<div>");this.attributes.role="group";this.cssClasses.system.main+=" btn-group"}else if(this.parent instanceof Nav||this.hasParent(NavBar)||this.parent instanceof TabItems){tmp=$("<li>");showLink=true}else{tmp=$("<div>")}this.element.replaceWith(tmp);this.element=tmp;if(showLink&&this.children[0]instanceof Button){this._button=this.children[0];this._button.remove();this._link.copyChildrenFrom(this._button);this.insertFirst(this._link)}if(!showLink&&this.children[0]instanceof Anchor){this._link=this.children[0];this._link.remove();this._button.copyChildrenFrom(this._link);this.insertFirst(this._button)}if(this.properties.expanded){this.cssClasses.system.main+=" "+this.getExpandedCSSClass()}this.children[0].attributes["data-toggle"]="dropdown";this.children[0].attributes["aria-expanded"]="false";if(this.properties.expanded){this.children[0].attributes["aria-expanded"]="true"}return _get(Object.getPrototypeOf(Dropdown.prototype),"update",this).call(this)}},{key:"anchorConstructor",get:function get(){}},{key:"buttonConstructor",get:function get(){}},{key:"dropdownMenuItemConstructor",get:function get(){}},{key:"dropdownDividerConstructor",get:function get(){}},{key:"dropdownHeaderConstructor",get:function get(){}}]);return Dropdown}(ComponentWithChildren);Dropdown.description="This is Bootstrap's Dropdown component. With it you can display a dropdown menu triggered by a button. You can add, remove and rearrange dropdown items, and change the design of the button.";module.exports=Dropdown},{"../../bars/ComponentControlBar":4,"../base/ComponentWithChildren":40,"./Anchor":97,"./Button":102,"./ButtonGroup":103,"./DropdownDivider":122,"./DropdownHeader":123,"./DropdownMenu":124,"./InputGroupAddon":129,"./Nav":139,"./NavBar":140,"./TabItems":154}]
});