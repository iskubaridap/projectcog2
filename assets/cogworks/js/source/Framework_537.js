define([],function(){
	return [function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var filter=require("fuzzaldrin").filter;var PackageTreeGroup=require("../tree/PackageTreeGroup");var Anchor=require("../components/base/Anchor");var ComponentWithChildren=require("../components/base/ComponentWithChildren");var TextBoxOption=require("../panels/TextBoxOption");var CheckBoxOption=require("../panels/CheckBoxOption");var SelectOption=require("../panels/SelectOption");var ButtonGroupOption=require("../panels/ButtonGroupOption");var ButtonOption=require("../panels/ButtonOption");var Framework=function(){function Framework(){_classCallCheck(this,Framework);this.name="";this.version="";this.searchIndex=null;this.componentMap=new Map;this.defaultBreakpoint="md"}_createClass(Framework,[{key:"initialize",value:function initialize(){}},{key:"getDeviceIcons",value:function getDeviceIcons(){}},{key:"getBreakpoints",value:function getBreakpoints(){}},{key:"getClassSuggestions",value:function getClassSuggestions(){return[]}},{key:"getBreakpointForSize",value:function getBreakpointForSize(size){var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=this.getBreakpoints()[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var breakpoint=_step.value;if(size>=breakpoint.min&&size<=breakpoint.max){return breakpoint.name}}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator["return"]){_iterator["return"]()}}finally{if(_didIteratorError){throw _iteratorError}}}return null}},{key:"getBreakpointByName",value:function getBreakpointByName(name){var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=this.getBreakpoints()[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var breakpoint=_step2.value;if(name==breakpoint.name){return breakpoint}}}catch(err){_didIteratorError2=true;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&_iterator2["return"]){_iterator2["return"]()}}finally{if(_didIteratorError2){throw _iteratorError2}}}return null}},{key:"getSizeForBreakpoint",value:function getSizeForBreakpoint(name){var breakpoint=this.getBreakpointByName(name);if(breakpoint){return breakpoint.size}return null}},{key:"getComponentDefinition",value:function getComponentDefinition(){}},{key:"getComponent",value:function getComponent(name){return this.componentMap.get(name)}},{key:"getUserGroups",value:function getUserGroups(){return[app.userPackages]}},{key:"getComponentGroups",value:function getComponentGroups(){var groups=this.getUserGroups();var components=this.getComponentDefinition();for(var c in components){if(c=="Hidden"){continue}var group=new PackageTreeGroup;group.initialize(c,components[c]);group.system=true;group.expanded=app.getSystemGroupExpandState(group.getPath());groups.push(group)}return groups}},{key:"searchComponents",value:function searchComponents(searchString){if(!this.searchIndex){this.buildSearchIndex()}return filter(this.searchIndex,searchString,{key:"name"})}},{key:"buildSearchIndex",value:function buildSearchIndex(){this.searchIndex=[];var tmpSet=new Set;var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=undefined;try{for(var _iterator3=this.getComponentGroups()[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var g=_step3.value;var _iteratorNormalCompletion4=true;var _didIteratorError4=false;var _iteratorError4=undefined;try{for(var _iterator4=g.getAll()[Symbol.iterator](),_step4;!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=true){var comp=_step4.value;if(tmpSet.has(comp))continue;tmpSet.add(comp);this.searchIndex.push({name:comp.getName(),item:comp,group:g})}}catch(err){_didIteratorError4=true;_iteratorError4=err}finally{try{if(!_iteratorNormalCompletion4&&_iterator4["return"]){_iterator4["return"]()}}finally{if(_didIteratorError4){throw _iteratorError4}}}}}catch(err){_didIteratorError3=true;_iteratorError3=err}finally{try{if(!_iteratorNormalCompletion3&&_iterator3["return"]){_iterator3["return"]()}}finally{if(_didIteratorError3){throw _iteratorError3}}}}},{key:"rebuild",value:function rebuild(){this.buildSearchIndex()}},{key:"startComponentUpdate",value:function startComponentUpdate(component){}},{key:"finishComponentUpdate",value:function finishComponentUpdate(component){}},{key:"initializeOptionsPanels",value:function initializeOptionsPanels(){}},{key:"getOptionsGroupByID",value:function getOptionsGroupByID(id){}},{key:"getMainOptionsGroupFor",value:function getMainOptionsGroupFor(component){}},{key:"emptyOptionPanels",value:function emptyOptionPanels(){}},{key:"displayComponentOptions",value:function displayComponentOptions(component){this.buildComponentOptions(component);component.injectOptions();var parent=component;while(parent=parent.parent){parent.injectChildOptions(component)}}},{key:"buildComponentOptions",value:function buildComponentOptions(component){}},{key:"getComponentBadges",value:function getComponentBadges(component){return[]}},{key:"propertyToOptionItem",value:function propertyToOptionItem(component,prop){var history=prop.history;if(!history){history="Change "+component.getName()+" "+prop.label;if(prop.type=="checkbox"){history+=" State"}}var item=null;var propertyName=prop.id;if(prop.property){propertyName=prop.property}switch(prop.type){case"checkbox":item=new CheckBoxOption({id:prop.id,label:prop.label,value:[component.properties,propertyName],valueOp:prop.valueOp,visible:prop.visible,component:component,history:history,collapsed:prop.collapsed});break;case"textbox":item=new TextBoxOption({id:prop.id,label:prop.label,value:[component.properties,propertyName],valueOp:prop.valueOp,visible:prop.visible,component:component,history:history,collapsed:prop.collapsed});break;case"textbox-button":item=new TextBoxOption({id:prop.id,label:prop.label,showButton:true,buttonAction:prop.buttonAction,buttonIcon:prop.buttonIcon,value:[component.properties,propertyName],valueOp:prop.valueOp,visible:prop.visible,component:component,history:history,collapsed:prop.collapsed});break;case"select":item=new SelectOption({id:prop.id,label:prop.label,value:[component.properties,propertyName],valueOp:prop.valueOp,visible:prop.visible,options:prop.options,component:component,history:history,collapsed:prop.collapsed});break;case"button":item=new ButtonOption({text:prop.text,icon:prop.icon,layout:prop.layout,visible:prop.visible,options:prop.options,component:component,history:history,onClick:prop.onClick});break;case"button-group":item=new ButtonGroupOption({id:prop.id,label:prop.label,value:[component.properties,propertyName,prop.value],visible:prop.visible,options:prop.options,component:component,history:history,collapsed:prop.collapsed});break;default:throw new Error("Ivalid type")}return item}},{key:"injectFileMenuOptions",value:function injectFileMenuOptions(){return[]}},{key:"injectLinkOptions",value:function injectLinkOptions(component,group,visible){if(group===undefined)group="";var optionsGroup=component.getMainOptionsGroup();optionsGroup.add(this.propertyToOptionItem(component,{id:"url",label:"URL",type:"textbox-button",buttonAction:function buttonAction(field,e){var rect=e.target.getBoundingClientRect();var options=[];var urls=component.context().generateLinkableURLs();for(var u in urls){var opt={name:u,options:[]};var _iteratorNormalCompletion5=true;var _didIteratorError5=false;var _iteratorError5=undefined;try{for(var _iterator5=urls[u][Symbol.iterator](),_step5;!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=true){var o=_step5.value;opt.options.push({name:o,action:function(o){field.val(o);field.commitChanges()}.bind(this,o)})}}catch(err){_didIteratorError5=true;_iteratorError5=err}finally{try{if(!_iteratorNormalCompletion5&&_iterator5["return"]){_iterator5["return"]()}}finally{if(_didIteratorError5){throw _iteratorError5}}}options.push(opt)}app.contextMenu.show(rect.right,rect.bottom,options,{gravity:"left",theme:"dark"})},buttonIcon:"arrow_drop_down",group:group,visible:visible,value:""}));optionsGroup.add(this.propertyToOptionItem(component,{id:"target",label:"Target",type:"select",value:"",visible:visible,group:group,options:Anchor.possibleTargets}))}},{key:"linkComponentUpdate",value:function linkComponentUpdate(component){delete component.attributes.href;delete component.attributes.target;if(component.properties.url){var url;if(!component.context().isDesign){var depth=component.context().pages.getItemDepth(component.page());url=component.context().transformResourceURL(component.properties.url,{depth:depth})}if(!url){url=component.properties.url}component.attributes.href=url}if(component.properties.target){component.attributes.target=component.properties.target}}},{key:"linkDOMNodeUpdate",value:function linkDOMNodeUpdate(component,node){if(!component.properties.url){node.removeAttribute("href")}else{var url;if(!component.context().isDesign){var depth=component.context().pages.getItemDepth(component.page());url=component.context().transformResourceURL(component.properties.url,{depth:depth})}if(!url){url=component.properties.url}node.setAttribute("href",url)}if(!component.properties.target){node.removeAttribute("taget")}else{node.setAttribute("target",component.properties.target)}}},{key:"createContext",value:function createContext(){var DesignContext=require("../contexts/DesignContext");var ctx=new DesignContext;ctx.initialize(this.version);return ctx}},{key:"getSystemFonts",value:function getSystemFonts(context){return[]}},{key:"getAllIconFonts",value:function getAllIconFonts(){return[]}},{key:"setupContext",value:function setupContext(context){context.canvasDimensions.width=this.getSizeForBreakpoint(this.getBreakpointForSize(app.canvas.dimensions.width-40));context.canvasDimensions.height=Math.max(app.canvas.dimensions.height-80,600);return Promise.resolve()}},{key:"exportContext",value:function exportContext(context){}},{key:"previewContext",value:function previewContext(context){}},{key:"activateContext",value:function activateContext(context){}},{key:"deactivateContext",value:function deactivateContext(context){}},{key:"applyPseudoAssetsForContext",value:function applyPseudoAssetsForContext(context){}},{key:"updateHTMLHead",value:function updateHTMLHead(html){}},{key:"updateHTMLBody",value:function updateHTMLBody(html){}},{key:"isCompatibleWith",value:function isCompatibleWith(framework){if(typeof framework=="String"){framework=app.getFrameworkByVersion(framework)}return this==framework}},{key:"shouldBeConvertedTo",value:function shouldBeConvertedTo(framework){if(typeof framework=="String"){framework=app.getFrameworkByVersion(framework)}return this!=framework}},{key:"convertUpFromTo",value:function convertUpFromTo(original,upgraded){var options=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];options=_extends({convertChildren:true,transferFlags:true},options);if(options.convertChildren){var newComp=null;if(original instanceof ComponentWithChildren&&upgraded instanceof ComponentWithChildren){upgraded.empty();var _iteratorNormalCompletion6=true;var _didIteratorError6=false;var _iteratorError6=undefined;try{for(var _iterator6=original.children[Symbol.iterator](),_step6;!(_iteratorNormalCompletion6=(_step6=_iterator6.next()).done);_iteratorNormalCompletion6=true){var child=_step6.value;newComp=child.convertUp(upgraded);if(!newComp){continue}upgraded.insertLast(newComp);if(options.childProcessCb){options.childProcessCb(newComp)}}}catch(err){_didIteratorError6=true;_iteratorError6=err}finally{try{if(!_iteratorNormalCompletion6&&_iterator6["return"]){_iterator6["return"]()}}finally{if(_didIteratorError6){throw _iteratorError6}}}}}if(original.properties.url){upgraded.properties.url=original.properties.url}if(original.properties.target){upgraded.properties.target=original.properties.target}original.transferCommonPropsTo(upgraded,options);return upgraded}},{key:"getScreenshotHeadIncludes",value:function getScreenshotHeadIncludes(){return""}},{key:"getIframeStyles",value:function getIframeStyles(){return"\n\n\t\thtml::-webkit-scrollbar {\n\t\t\theight: 7px;\n\t\t\twidth: 7px;\n\t\t\tbackground: #2f363a;\n\t\t}\n\n\t\thtml::-webkit-scrollbar-thumb {\n\t\t\tbackground: rgb(137, 143, 146);\n\t\t}\n\n\t\thtml::-webkit-scrollbar-thumb:hover {\n\t\t\tbackground: #767F82;\n\t\t}\n\n\t\thtml::-webkit-scrollbar-corner {\n\t\t\tdisplay:none;\n\t\t}\n\n\t\thtml{\n\t\t\t-webkit-user-select: none;\n\t\t\tuser-select:none;\n\t\t\toverflow: auto !important;\n\t\t}\n\n\t\tbody{\n\t\t\tmin-height:650px;\n\t\t}\n\n\t\t*{\n\t\t\tcursor:default !important;\n\t\t\tpointer-events:all !important;\n\t\t}\n\n\t\ta{\n\t\t\tcursor:text;\n\t\t}\n\n\t\timg:not([src]):not([srcset]){\n\t\t\tbackground: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIg0KCXhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIg0KCXdpZHRoPSIxNjVweCIgaGVpZ2h0PSIxNjVweCIgdmlld0JveD0iMCAwIDE2NSAxNjUiPg0KPHBhdGggZmlsbFJ1bGU9ImV2ZW5vZGQiIGQ9Ik0gMC43OSAyLjIxQyAwLjc5IDIuMjEgMi4yMSAwLjc5IDIuMjEgMC43OSAyLjIxIDAuNzkgMTY0LjIxIDE2Mi43OSAxNjQuMjEgMTYyLjc5IDE2NC4yMSAxNjIuNzkgMTYyLjc5IDE2NC4yMSAxNjIuNzkgMTY0LjIxIDE2Mi43OSAxNjQuMjEgMC43OSAyLjIxIDAuNzkgMi4yMVoiIGZpbGw9InJnYigxOTMsMTk1LDE5NSkiLz48cGF0aCBmaWxsUnVsZT0iZXZlbm9kZCIgZD0iTSAxNjIuNzkgMC43OUMgMTYyLjc5IDAuNzkgMTY0LjIxIDIuMjEgMTY0LjIxIDIuMjEgMTY0LjIxIDIuMjEgMi4yMSAxNjQuMjEgMi4yMSAxNjQuMjEgMi4yMSAxNjQuMjEgMC43OSAxNjIuNzkgMC43OSAxNjIuNzkgMC43OSAxNjIuNzkgMTYyLjc5IDAuNzkgMTYyLjc5IDAuNzlaIiBmaWxsPSJyZ2IoMTkyLDE5NCwxOTUpIi8+PC9zdmc+');\n\t\t\twidth: 80px;\n\t\t\theight: 80px;\n\t\t\tbackground-size: 100%;\n\t\t\tbackground-repeat:no-repeat;\n\t\t}\n\n\t\t/* Stopping css animations on the stage */\n\n\t\t*:not([bs-anim-preview]){\n\t\t\ttransition:none !important;\n\t\t\ttransition-duration: 0s !important;\n\t\t}\n\n\t\t[bs-dragged]{\n\t\t\topacity:0.3;\n\t\t}\n\n\t\t/* Inline editing */\n\n\t\t[contenteditable=true] {\n\t\t\tbox-shadow:-1px -1px 1px rgba(17, 142, 232, 0.85), \n\t\t\t\t1px 1px 1px rgba(17, 142, 232, 0.85), \n\t\t\t\t0 0 11px rgba(17, 142, 232, 0.85) !important;\n\t\t\toutline:none !important;\n\t\t\tmin-height:1em;\n\t\t\tcursor:initial !important;\n\t\t}\n\n\t\t[contenteditable=true] *:not([contenteditable=false]){\n\t\t\tcursor:initial !important;\n\t\t}\n\n\t\t[contenteditable=true]:empty:before {\n\t\t    content: \"\\00a0\\00a0\" !important;\n\t\t}\n\n\t\t[contenteditable=true] [contenteditable=false] {\n\t\t\tbox-shadow:0 0 0 1px rgba(17, 142, 232, 0.85);\n\t\t}\n\n\t\t/* Preventing mouse events for embeds */\n\n\t\tiframe, embed, object{\n\t\t\tpointer-events: none !important;\n\t\t}\n\n\t\thtml.hit-testing iframe,\n\t\thtml.hit-testing embed,\n\t\thtml.hit-testing object{\n\t\t\tpointer-events: all !important;\n\t\t}\n\n\t\t"}}]);return Framework}();module.exports=Framework},{"../components/base/Anchor":29,"../components/base/ComponentWithChildren":40,"../contexts/DesignContext":372,"../panels/ButtonGroupOption":1211,"../panels/ButtonOption":1212,"../panels/CheckBoxOption":1213,"../panels/SelectOption":1238,"../panels/TextBoxOption":1243,"../tree/PackageTreeGroup":1264,"fuzzaldrin":1027}]
});